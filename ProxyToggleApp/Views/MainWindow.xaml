<Window x:Class="ProxyToggleApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ProxyToggleApp.Views"
        Title="Proxy Toggle" Height="400" Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" Text="Proxy Toggle App" 
                   FontSize="24" FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>

        <!-- Status -->
        <TextBlock Grid.Row="1" Text="{Binding StatusText}" 
                   FontSize="16" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>

        <!-- Proxy Server Input -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    Margin="0,0,0,20">
            <TextBlock Text="Proxy Server:" 
                       VerticalAlignment="Center" 
                       Margin="0,0,10,0"/>
            <TextBox Text="{Binding ProxyServer, UpdateSourceTrigger=PropertyChanged}" 
                     Width="200" 
                     IsEnabled="{Binding IsOperationInProgress, Converter={StaticResource InverseBooleanConverter}}"/>
        </StackPanel>

        <!-- Progress Indicator -->
        <ProgressBar Grid.Row="3" 
                     IsIndeterminate="{Binding IsOperationInProgress}" 
                     Height="10" 
                     Margin="0,0,0,20"
                     Visibility="{Binding IsOperationInProgress, Converter={StaticResource BooleanToVisibilityConverter}}"/>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    Margin="0,0,0,20">
            <Button Content="Enable Proxy" 
                    Command="{Binding EnableProxyCommand}"
                    Width="120" Height="35" 
                    Margin="0,0,10,0"
                    IsEnabled="{Binding IsOperationInProgress, Converter={StaticResource InverseBooleanConverter}}"/>
            <Button Content="Disable Proxy" 
                    Command="{Binding DisableProxyCommand}"
                    Width="120" Height="35" 
                    Margin="10,0,0,0"
                    IsEnabled="{Binding IsOperationInProgress, Converter={StaticResource InverseBooleanConverter}}"/>
        </StackPanel>

        <!-- Refresh Button -->
        <Button Grid.Row="6" Content="Refresh Status" 
                Command="{Binding RefreshStatusCommand}"
                Width="120" Height="30" 
                HorizontalAlignment="Center"
                IsEnabled="{Binding IsOperationInProgress, Converter={StaticResource InverseBooleanConverter}}"/>
    </Grid>

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <local:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
    </Window.Resources>
</Window>
